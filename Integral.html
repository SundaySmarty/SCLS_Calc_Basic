<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integral</title>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=AM_HTMLorMML-full"></script>
    <style>
        .header {
        width: 100%;
        background-color: thistle;
        color: white;
        text-align: left;
        padding: 8px;
        margin-top: -8px;
        margin-left: -8px;
        }
        .logo {
        display: inline-block;
        vertical-align: middle;
        border: 5px outset pink;
        margin-left: 16%;
        }
        .heading {
        display: inline-block;
        vertical-align: middle;
        margin-left: 5%;
        }
        .content_container {
        float: left;
        width: 80%;
        }
        .content_name {
        width: 60%;
        margin-top: 6%;
        margin-left: 20%;
        font-weight: bold;
        font-size: 300%;
        }
        .content {
        width: 60%;
        margin-left: 20%;
        }
    </style>
</head>
<body style="overflow-x:hidden">
    <div class="header">
        <div class="logo">
            <img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fnimg.ws.126.net%2F%3Furl%3Dhttp%253A%252F%252Fdingyue.ws.126.net%252F2022%252F0225%252Fbf8fadbej00r7twt5000hc000dw00dam.jpg%26thumbnail%3D650x2147483647%26quality%3D80%26type%3Djpg&refer=http%3A%2F%2Fnimg.ws.126.net&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1657443019&t=fddf26bb96f311e36c867024166b18e7" alt="Morpho Helena" style="width:50px;height:50px;margin-bottom:-5px">
        </div>
        <div class="heading">
            <h2>Calculus BASIC</h2>
        </div>
    </div>
    <div class="content_container">
        <div class="content_name">
            <p>3 积分 Integral</p>
            <hr>
        </div>
        <div class="content">
            <h2>3.1 求和符号</h2>
            <p>在学习积分和无穷级数之前，了解求和符号是很重要的</p>
            <p>它是这样用的：`\sum_{i=m}^{n}a_i=a_{m}+a_{m+1}+a_{m+2}+...+a_{n-2}+a_{n-1}+a_{n}`（`m`一般小于`n`）</p>
            <p>比如：`\sum_{i=1}^{6}i^2=1^2+2^2+3^2+4^2+5^2+6^2`</p>
            <p>另外，我还要说一个有用的求和：`\sum_{i=a}^{b}(f(i)-f(i-1))=f(b)-f(a-1)`</p>
            <p>比如：`\sum_{i=1}^{10}(i^2-(i-1)^2)=10^2-0^2=100`</p>
            <p>再给两个有用的运算法则：</p>
            <p>`\sum_{i=m}^{n}(a_i+b_i)=\sum_{i=m}^{n}a_i+\sum_{i=m}^{n}b_i`</p>
            <p>`\sum_{i=m}^{n}(C*a_i)=C\sum_{i=m}^{n}a_i`（`C`是常数）</p>
            <p>最后我还要给一个待会会用到的求和（可以根据上面的知识自行证明）</p>
            <p>`\sum_{i=1}^{n}i^2=\frac{n(n+1)(2n+1)}{6}`</p>
            <h2>3.2 速度与位移</h2>
            <p>给你一张位置-时间图，你应该可以根据导数的知识求出在某一时间点的瞬时速度</p>
            <p>那如果给你一张速度-时间图，你可以求出在一段时间内的位移吗？</p>
            <p>假设有一辆车沿着一条笔直的路前行，从下午三点钟到四点钟以`40\text{km/h}`的速度匀速行驶，在四点钟突然加速到`60\text{km/h}`并保持该速度一个小时至五点钟，那么它从下午三点到五点内的总位移是多少？</p>
            <p>`\Delta x=40*(4-3)+60*(5-4)=100`</p>
            <p>如下图所示，总位移就等于阴影部分的面积</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/d8995a3141af4611840851c1fdfa6e27.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_11,color_FFFFFF,t_70,g_se,x_16#pic_center" width="60%">
            </div>
            <p style="text-align:center">图 3-1</p>
            <p>现在我们来看另一张速度-时间图像</p>
            <p>根据下图，我们可以求出从`t=3`到`t=6`的总位移为`40*1+(-30)*2=-20`</p>
            <p>这里我们同样可以用面积来求，但要注意这里的面积是有符号的<span style="color:red;font-weight:bold">有向面积</span>（signed area）</p>
            <p>比如下图在`x`轴下方的那一块阴影部分的面积为`(-30)*2=-60`</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/059ea66365724233bc4fafbb3b94d6c4.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_12,color_FFFFFF,t_70,g_se,x_16#pic_center" width="60%">
            </div>
            <p style="text-align:center">图 3-2</p>
            <h2>3.3 定积分 Definite Integral</h2>
            <p>我们引入一个记号`\int_{a}^{b}f(x)dx`来表示函数曲线`y=f(x)`，`x`轴，`x=a`和`x=b`所围成的有向面积</p>
            <p>我们可以把`\int_{a}^{b}f(x)dx`读作”函数`y=f(x)`对于`x`从`a`到`b`的积分“</p>
            <p>其中`f(x)`叫做被积函数（它也可以换成其他函数，如`g(x)`，`h(x)`等），`a`是积分下限，`b`是积分上限，`x`是积分变量（可以用任意其他字母代替，如`t`）</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/67ddfd50c2074e8cbe61c24ebaaa56a4.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_13,color_FFFFFF,t_70,g_se,x_16#pic_center" width="60%">
            </div>
            <p style="text-align:center">图 3-3</p>
            <p>为了计算这个面积，我们可以把`[a,b]`分成`n`份，以每一份线段为底，以这一份线段中任意一点的函数值为高做矩形，这样我们可以用所有矩形的有向面积和来近似`\int_{a}^{b}f(x)dx`</p>
            <p>当`n\rightarrow \infty`时，矩形的有向面积和就等于`\int_{a}^{b}f(x)dx`</p>
            <div align="center">
                <img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fi0.hdslb.com%2Fbfs%2Farticle%2Fa06d75a0b17ec7081be91511c119fa8af5ba2494.jpg&refer=http%3A%2F%2Fi0.hdslb.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1658760295&t=01e9eaa5cdffcf98c891af210a970ec9" width="70%">
            </div>
            <p style="text-align:center">图 3-4</p>
            <p>我们用符号表示一下：假设你把`[a,b]`分成`n`份，其中最大区间我们把它叫做`\Delta x_{max}`</p>
            <p>那么`\int_{a}^{b}f(x)dx=\lim_{\Delta x_{max}\rightarrow 0}\sum_{i=1}^{n}f(c_i)*(x_i-x_{i-1})`</p>
            <p>其中`a=x_0\text{<}x_1\text{<}\cdots\text{<}x_{n-1}\text{<}x_n=b`并且对每一个`i=1,\cdots,n`都有`c_i`在`[x_{i-1},x_i]`内</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/2239c6b41e8a4864b51b4758db23beef.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" width="90%">
            </div>
            <p style="text-align:center">图 3-5</p>
            <p>在积分表达式中出现的求和`\sum_{i=1}^{n}f(c_i)*(x_i-x_{i-1})`叫做黎曼和（Riemann Sum）</p>
            <p>当矩形的高是线段左侧的函数值时，即是`\sum_{i=1}^{n}f(x_{i-1})*(x_i-x_{i-1})`，我们就叫它左黎曼和</p>
            <p>当矩形的高是线段右侧的函数值时，即是`\sum_{i=1}^{n}f(x_i)*(x_i-x_{i-1})`，我们就叫它右黎曼和</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/2018111318541314.jpeg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NjbnRfMjAxMg==,size_16,color_FFFFFF,t_70" width="100%">
            </div>
            <p style="text-align:center">图 3-6</p>
            <p>为了计算方便，我们打算把`[a,b]`平均分为`n`份，这样每个区间的长度就是`\Delta x=\frac{b-a}{n}`</p>
            <p>如果我们采取用右黎曼和的话，那么第`i`个区间上的矩形的高就为`f(a+i\frac{b-a}{n})`（`i`从`1`开始）</p>
            <p>这样当区间的个数`n`趋于无穷的时候，我们就可以有`\int_{a}^{b}f(x)dx=\lim_{n\rightarrow \infty}(\sum_{i=1}^{n}f(a+i\frac{b-a}{n})*\frac{b-a}{n})`</p>
            <br>
            <p>e.g. 用黎曼和计算`\int_{0}^{2}x^2dx`</p>
            <p>`\int_{0}^{2}x^2dx=\lim_{n\rightarrow \infty}(\sum_{i=1}^{n}(0+i\frac{2-0}{n})^2*\frac{2-0}{n})=\lim_{n\rightarrow \infty}(\frac{4}{n^2}*\frac{2}{n}\sum_{i=1}^{n}i^2)=\lim_{n\rightarrow \infty}(\frac{8}{n^3}*\frac{n(n+1)(2n+1)}{6})=\frac{8}{3}`</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/9d4f1ebd20e94a7f860e965af11e07d1.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_19,color_FFFFFF,t_70,g_se,x_16#pic_center" width="70%">
            </div>
            <p style="text-align:center">图 3-7</p>
            <p>练习：用黎曼和计算`\int_{0}^{1}x^2dx`</p>
            <p>你应该能得到`\int_{0}^{1}x^2dx=\frac{1}{3}`</p>
            <br>
            <p>定积分的性质（这几条都很重要）：</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/e97985532d184b3e8e17fdb920dd2a7e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" width="100%">
            </div>
            <p style="text-align:center">图 3-8</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/505685af2b1d4082afd05dd0ecc84879.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" width="100%">
            </div>
            <p style="text-align:center">图 3-9</p>
            <h2>3.4 微积分第一基本定理</h2>
            <p>（这只是大致证明）</p>
            <p>我们定义一个函数`F(x)=\int_{a}^{x}f(t)dt`</p>
            <p>然后求`F(x)`关于`x`的导数</p>
            <p>`F^{'}(x)=\frac{d}{dx}\int_{a}^{x}f(t)dt=\lim_{h\rightarrow 0}\frac{F(x+h)-F(x)}{h}`</p>
            <p>我们可以发现：`F(x+h)-F(x)=\int_{x}^{x+h}f(t)dt\approx hf(x)`</p>
            <p>当`h\rightarrow 0`时，这个估算就很精确</p>
            <p>这样我们可以得到：`\lim_{h\rightarrow 0}\frac{F(x+h)-F(x)}{h}=f(x)\Rightarrow F^{'}(x)=\frac{d}{dx}\int_{a}^{x}f(t)dt=f(x)`</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/e506861f6f084cf9979a0de6e3308bd9.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_19,color_FFFFFF,t_70,g_se,x_16#pic_center" width="70%">
            </div>
            <p style="text-align:center">图 3-10</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/bda962db81d04f04976f8a21b6ced148.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_17,color_FFFFFF,t_70,g_se,x_16#pic_center" width="70%">
            </div>
            <p style="text-align:center">图 3-11</p>
            <!--<p>常数`a`的选择并不会影响求导的结果，你可以这样理解：汽车的初始时间（`a`）不会影响它的速度（求导结果）</p>-->
            <h2>3.5 原函数 Antiderivative</h2>
            <p>假设我们有`f(t)=t^2,a=0`，那么`F(x)=\int_{0}^{x}t^2dt`</p>
            <p>根据微积分第一基本定理，我们知道`F^{'}(x)=f(x)=x^2`</p>
            <p>函数`F(x)`的导数是`x^2`，我们就说`F(x)`是`x^2`的原函数</p>
            <p>那么`F(x)`可以等于什么呢？</p>
            <p>我们发现当`F(x)=\frac{x^3}{3}+C`（`C`是常数）时，`F^{'}(x)=x^2`</p>
            <p>这样就有`\int_{0}^{x}t^2dt=\frac{x^3}{3}+C`</p>
            <p>当`x=0`时，`\int_{0}^{0}t^2dt=0\Rightarrow C=0\Rightarrow \int_{0}^{x}t^2dt=\frac{x^3}{3}`</p>
            <p>这样分别代入`x=1`和`x=2`，我们就有`\int_{0}^{1}t^2dt=\frac{1}{3}`和`\int_{0}^{2}t^2dt=\frac{8}{3}`，是不是很熟悉？</p>
            <h2>3.6 微积分第二基本定理</h2>
            <p>相比`\int_{a}^{x}f(t)dt`，我们更希望了解`\int_{a}^{b}f(t)dt`</p>
            <p>我们假设`G(x)=\int_{a}^{x}f(t)dt`</p>
            <p>如果`F(x)`作为`f(x)`任意一个原函数，那么它与`G(x)`只会相差一个常数`C`，即`F(x)=G(x)+C`</p>
            <p>这样`F(b)-F(a)=(G(b)+C)-(G(a)+C)=G(b)-G(a)=\int_{a}^{b}f(t)dt-\int_{a}^{a}f(t)dt=\int_{a}^{b}f(t)dt`</p>
            <p>把`t`这个虚拟变量换成`x`，就得到`\int_{a}^{b}f(x)dx=F(b)-F(a)=F(x)|_{a}^{b}`</p>
            <p>e.g.</p>
            <p>（1）求`\int_{1}^{2}x^2dx`</p>
            <p>我们知道`\frac{x^3}{3}`是`x^2`的一个原函数</p>
            <p>所以`\int_{1}^{2}x^2dx=\frac{x^3}{3}|_{1}^{2}``=\frac{8}{3}-\frac{1}{3}=\frac{7}{3}`</p>
            <p>（2）求`\int_{0}^{\pi}sin(x)dx`</p>
            <p>我们知道`-cos(x)`是`sin(x)`的一个原函数</p>
            <p>所以`\int_{0}^{\pi}sin(x)dx=(-cos(x))|_{0}^{\pi}``=(-cos(\pi))-(-cos(0))=2`</p>
            <h2>3.7 不定积分 Indefinite Integral</h2>
            <p>为了更简单的表示原函数，我们引入了一个记号`\int f(x)dx`，它指的是”函数`f(x)`的原函数的集合“</p>
            <p>如果`\frac{d}{dx}F(x)=f(x)`，那么`\int f(x)dx=F(x)+C`</p>
            <p>比如`\frac{d}{dx}(\frac{x^3}{3})=x^2\Rightarrow \int x^2dx=\frac{x^3}{3}+C`，`\frac{d}{dx}(\frac{x^4}{4})=x^3\Rightarrow\int x^3dx=\frac{x^4}{4}+C`</p>
            <p>上述所有积分都是不定积分</p>
            <p>注意：定积分的结果是一个数，而不定积分是一个函数的集合</p>
            <p>不定积分的两个性质：</p>
            <p>1.`\int (f(x)+g(x))dx=\int f(x)dx+\int g(x)dx`</p>
            <p>2.`\int Cf(x)dx=C\int f(x)dx`（`C`是常数，与上面的`C`无关）</p>
            <p>现在我们来计算一些不定积分：</p>
            <p>第一个是`\int x^adx`（`a`是常数）</p>
            <p>我们知道`\frac{d}{dx}(x^{a+1})=(a+1)x^a`</p>
            <p>`\Rightarrow \int (a+1)x^adx=x^{a+1}+C`</p>
            <p>所以当`a\ne -1`时，`\int x^adx=\frac{x^{a+1}}{a+1}+C`</p>
            <p>那当`a=-1`时呢？也就是求`\int \frac{1}{x}dx`</p>
            <p>我们知道`\frac{d}{dx}ln(x)=\frac{1}{x}`</p>
            <p>然而这只有在`x>0`的情况下才成立</p>
            <p>（当`x<0`时）我们又知道（根据链式法则）`\frac{d}{dx}ln(-x)=-1*\frac{1}{-x}=\frac{1}{x}`</p>
            <p>这样我们就可以得到：`\int \frac{1}{x}dx=ln|x|+C`</p>
            <br>
            <p>下面我们来总结一下常用的积分公式</p>
            <p>`\int x^adx=\frac{x^{a+1}}{a+1}+C(a\ne -1)`</p>
            <p>`\int \frac{1}{x}dx=ln|x|+C`</p>
            <p>`\int e^xdx=e^x+C`</p>
            <p>`\int a^xdx=\frac{a^x}{ln(a)}+C`</p>
            <p>`\int cos(x)dx=sin(x)+C`</p>
            <p>`\int sin(x)dx=-cos(x)+C`</p>
            <p>`\int sec^2(x)dx=tan(x)+C`</p>
            <p>`\int sec(x)tan(x)dx=sec(x)+C`</p>
            <p>`\int csc^2(x)dx=-cot(x)+C`</p>
            <p>`\int csc(x)cot(x)dx=-csc(x)+C`</p>
            <p>`\int \frac{1}{\sqrt{1-x^2}}dx=sin^{-1}(x)+C`</p>
            <p>`\int \frac{1}{1+x^2}dx=tan^{-1}(x)+C`</p>
            <br>
            <p>根据链式求导法则，我们知道在导数公式里，如果用`ax`代替`x`，那么把每一个公式乘以`a`即可</p>
            <p>比如：`\frac{d}{dx}e^{2x}=2e^{2x}`</p>
            <p>那如果是积分，我们只需要把结果除以`a`</p>
            <p>比如：`\int e^{2x}dx=\frac{1}{2}e^{2x}+C`</p>
            <h2>3.8 积分的方法</h2>
            <p style="font-weight:bold">1.换元法</p>
            <p>考虑一个不定积分：`\int x^2cos(x^3)dx`</p>
            <p>这里我们可以用换元法：令`u=x^3`</p>
            <p>这样我们就有：`\frac{du}{dx}=3x^2`</p>
            <p>我们可以把`dx`移到等式右侧（这是可以用链式求导法则解释的），变成`du=3x^2dx`</p>
            <p>`\int x^2cos(x^3)dx=\frac{1}{3} \int cos(x^3)*3x^2dx=\frac{1}{3} \int cos(u)du=\frac{1}{3} sin(u)+C=\frac{1}{3} sin(x^3)+C`</p>
            <p>这样有了不定积分，我们算定积分就更加方便了</p>
            <p>假如我们要算`\int_{0}^{\root[3]{\frac{\pi}{2}}}x^2cos(x^3)dx`</p>
            <p>我们已经找到了`x^2cos(x^3)`的一个原函数，这样根据微积分第二基本定理，`\int_{0}^{\root[3]{\frac{\pi}{2}}}x^2cos(x^3)dx`就可以轻松求出</p>
            <p>`\int_{0}^{\root[3]{\frac{\pi}{2}}}x^2cos(x^3)dx=\frac{1}{3} sin(x^3)|_{0}^{\root[3]{\frac{\pi}{2}}}``=\frac{1}{3}`</p>
            <br>
            <p>我们再考虑另一个不定积分：`\int \frac{x}{x^2+8}dx`</p>
            <p>这里我们可以令`u=x^2+8`，这样就有`du=2xdx`</p>
            <p>`\int \frac{x}{x^2+8}dx=\frac{1}{2} \int \frac{1}{u}du=\frac{1}{2}ln|u|+C=\frac{1}{2}ln|x^2+8|+C`</p>
            <p>从中我们可以发现一个重要结论：如果`f(x)`是可导函数，那么`\int \frac{f^{'}(x)}{f(x)}dx=ln|f(x)|+C`</p>
            <br>
            <p>至于什么时候可以换元，怎么换元，这就要多做题积累经验了</p>
            <p style="font-weight:bold">2.长除法</p>
            <p>考虑一个不定积分：`\int \frac{x^2+3x+1}{x+1}dx`</p>
            <p>我们用长除法（没学过自己查）把它分解为：</p>
            <p>`\int \frac{x^2+3x+1}{x+1}dx=\int (x+2)dx-\int \frac{1}{x+1}dx=\frac{x^2}{2}+2x-\ln|x+1|+C`</p>
            <p style="font-weight:bold">3.配方</p>
            <p>考虑一个不定积分：`\int \frac{1}{x^2+2x+2}dx`</p>
            <p>我们可以对其分母进行配方：`\int \frac{1}{x^2+2x+2}dx=\int \frac{1}{(x+1)^2+1}dx`</p>
            <p>可以看作这里是个换元`u=x+1`</p>
            <p>这样我们就有：`\int \frac{1}{u^2+1}du=\arctan(u)+C=\arctan(x+1)+C`</p>
            <p style="font-weight:bold">4.部分分式</p>
            <p>对于一个有理函数（分母是不可约多项式或其幂，分子多项式的次数比分母多项式的次数要低），我们可以对它进行部分分式分解</p>
            <p>若其分母有`(x+a)`，那么它可以分解为`\frac{A}{x+a}`的形式</p>
            <p>若其分母有`(x+a)^2`，那么它可以分解为`\frac{A}{(x+a)^2}+\frac{B}{x+a}`的形式</p>
            <p>若其分母有`(x^2+ax+b)`（在实数域内不可因式分解），那么它可以分解为`\frac{Ax+B}{x^2+ax+b}`的形式</p>
            <p>若其分母有`(x+a)^3`，那么它可以分解为`\frac{A}{(x+a)^3}+\frac{B}{(x+a)^2}+\frac{C}{x+a}`的形式</p>
            <p>以此类推···</p>
            <br>
            <p>比如我们要对`\frac{f(x)}{(x-1)(x+2)^2(x^2-4x+7)}`进行部分分式分解</p>
            <p>它会变成`\frac{A}{x-1}+\frac{B}{(x+2)^2}+\frac{C}{x+2}+\frac{Dx+E}{x^2-4x+7}`</p>
            <p>之后再解个多元一次方程组就可以求出这些待定的系数了</p>
            <br>
            <p>现在我们考虑一个不定积分：`\int \frac{x+2}{x^2-1}dx`</p>
            <p>对分母进行因式分解，变成`\int \frac{x+2}{(x-1)(x+1)}dx`</p>
            <p>这样就可以进行部分分式分解了</p>
            <p>`\int \frac{x+2}{(x-1)(x+1)}dx=\int (\frac{A}{x-1}+\frac{B}{x+1})dx`</p>
            <p>解个二元一次方程组：</p>
            <p>`{A+B=1 &nbsp;&nbsp;&nbsp;&nbsp; A-B=2}\Rightarrow {A=\frac{3}{2} &nbsp;&nbsp;&nbsp;&nbsp; B=-frac{1}{2}}`</p>
            <p>`\int \frac{x+2}{(x-1)(x+1)}dx=\int (\frac{3}{2(x-1)}-\frac{1}{2(x+1)})dx=\frac{3}{2} \int \frac{1}{x-1}dx-\frac{1}{2} \int \frac{1}{x+1}dx=\frac{3}{2} \ln|x-1|-\frac{1}{2} \ln|x+1|+C`</p>
            <p style="font-weight:bold">5.分部积分法</p>
            <p>还记得导数的乘积法则吗？我们先进行一些移项的操作，再对等式两边同时对`x`求积分</p>
            <p>`\frac{d}{dx}(uv)=v\frac{du}{dx}+u\frac{dv}{dx}`</p>
            <p>`u\frac{dv}{dx}=\frac{d}{dx}(uv)-v\frac{du}{dx}`</p>
            <p>`\int u\frac{dv}{dx}dx=\int \frac{d}{dx}(uv)dx-\int v\frac{du}{dx}dx`</p>
            <p>其中`\int \frac{d}{dx}(uv)dx`指的是`uv`的导数的原函数，结果应该为`uv+C`，但是因为后面一个不定积分它自带一个`+C`，所以这里直接写成`uv`即可</p>
            <p>`\int u\frac{dv}{dx}dx=uv-\int v\frac{du}{dx}dx`</p>
            <p>这就是分部积分公式</p>
            <p>但是我们经常会用它的简写形式：`\int udv=uv-\int vdu`</p>
            <br>
            <p>现在我们来求一个不定积分`\int xe^xdx`</p>
            <p>我们可以设`u=x`和`dv=e^xdx`，然后用我们的简写版分部积分公式</p>
            <table width="50%" style="text-align:center">
                <tr>
                    <td>`u=x`</td>
                    <td>`v=`</td>
                </tr>
                <tr>
                    <td>`du=`</td>
                    <td>`dv=e^xdx`</td>
                </tr>
            </table>
            <p>把表格补全：（这里的`v`就是根据`dv`求原函数并且可以忽略`+C`因为后面有不定积分）</p>
            <table width="50%" style="text-align:center">
                <tr>
                    <td>`u=x`</td>
                    <td>`v=e^x`</td>
                </tr>
                <tr>
                    <td>`du=dx`</td>
                    <td>`dv=e^xdx`</td>
                </tr>
            </table>
            <p>这样就有`\int xe^xdx=xe^x-\int e^xdx=xe^x-e^x+C`</p>
            <br>
            <p>再举个例子：`\int \ln(x)dx`</p>
            <p>直接求求不出来，那就用分部积分试试</p>
            <table width="50%" style="text-align:center">
                <tr>
                    <td>`u=\ln(x)`</td>
                    <td>`v=x`</td>
                </tr>
                <tr>
                    <td>`du=\frac{1}{x}dx`</td>
                    <td>`dv=dx`</td>
                </tr>
            </table>
            <p>`\int \ln(x)dx=x\ln(x)-\int 1dx=x\ln(x)-x+C`</p>
            <p style="font-weight:bold">6.三角函数的积分</p>
            <p>回忆一下几个三角恒等式</p>
            <p>`sin^2(x)+cos^2(x)=1`</p>
            <p>`tan^2(x)+1=sec^2(x)`</p>
            <p>`cot^2(x)+1=csc^2(x)`</p>
            <p>`cos^2(x)=\frac{1}{2} (1+cos(2x))`</p>
            <p>`sin^2(x)=\frac{1}{2} (1-cos(2x))`</p>
            <p>有了这些恒等式，我们就可以计算很多关于三角函数的积分了</p>
            <p>考虑一个不定积分：`\int sin^2(x)cos^5(x)dx`</p>
            <p>我们可以考虑从`cos^5(x)`里拆出一个`cos(x)`来，因为`5`是个奇数</p>
            <p>`\int sin^2(x)cos^5(x)dx=\int sin^2(x)cos^4(x)cos(x)dx=\int sin^2(x)(1-sin^2(x))^2cos(x)dx`</p>
            <p>现在就可以用换元法了：令`u=sin(x)`，那么`du=cos(x)dx`</p>
            <p>这样就有`\int sin^2(x)(1-sin^2(x))^2cos(x)dx=\int u^2(1-u^2)^2du=\int u^2du-\int 2u^4du+\int u^6du=\frac{u^3}{3}-\frac{2u^5}{5}+\frac{u^7}{7}+C`</p>
            <p>最后再换回以`x`变量的积分：`\int sin^2(x)cos^5(x)dx=\frac{sin^3(x)}{3}-\frac{2sin^5(x)}{5}+\frac{sin^7(x)}{7}+C`</p>
            <br>
            <p>再看另一个不定积分：`\int sin^2(x)cos^4(x)dx`</p>
            <p>我们可以先把它降幂变成`\int \frac{1}{2} (1-cos(2x)) (\frac{1}{2} (1+cos(2x)))^2dx=\frac{1}{8} \int (1+cos(2x)-cos^2(2x)-cos^3(2x))dx`</p>
            <p>到这里我们需要求的就是`\int cos^2(2x)dx`和`\int cos^3(2x)dx`</p>
            <p>`\int cos^2(2x)dx=\int \frac{1}{2} (1+cos(4x))dx=\frac{1}{2}x+\frac{1}{8}sin(4x)+C`</p>
            <p>`\int cos^3(2x)dx=\int (1-sin^2(2x))cos(2x)dx`</p>
            <p>令`u=sin(2x)`，那么`du=2cos(2x)dx`</p>
            <p>`\int (1-sin^2(2x))cos(2x)dx=\frac{1}{2} \int (1-u^2)du=\frac{u}{2}-\frac{u^3}{6}+C=\frac{sin(2x)}{2}-\frac{sin^3(2x)}{6}+C`</p>
            <p>`\frac{1}{8} \int (1+cos(2x)-cos^2(2x)-cos^3(2x))dx=\frac{1}{8}(x+\frac{sin(2x)}{2}-(\frac{1}{2}x+\frac{1}{8}sin(4x))-(\frac{sin(2x)}{2}-\frac{sin^3(2x)}{6}))+C`</p>
            <p>`\Rightarrow \int sin^2(x)cos^4(x)dx=\frac{x}{16}+\frac{sin^3(2x)}{48}-\frac{sin(4x)}{64}+C`</p>
            <br>
            <p>看完`sin`和`cos`，我们来看`tan`</p>
            <p>我们从`\int tan(x)dx`开始：</p>
            <p>`\int tan(x)dx=\int \frac{sin(x)}{cos(x)}dx=-ln|cos(x)|+C`</p>
            <p>接着是`\int tan^2(x)dx`</p>
            <p>`\int tan^2(x)dx=\int (sec^2(x)-1)dx=tan(x)-x+C`</p>
            <p>现在我们可以来计算`\int tan^4(x)dx`</p>
            <p>`\int tan^4(x)dx=\int tan^2(x)tan^2(x)dx=\int tan^2(x)(sec^2(x)-1)dx=\int tan^2(x)sec^2(x)dx-\int tan^2(x)dx`</p>
            <p>这里我们需要解决的就是`\int tan^2(x)sec^2(x)dx`</p>
            <p>很明显，我们可以用换元法：令`u=tan(x)`，那么`du=sec^2(x)dx`</p>
            <p>`\int tan^2(x)sec^2(x)dx=\int u^2du=\frac{u^3}{3}+C=\frac{tan^3(x)}{3}+C`</p>
            <p>这样就有`\int tan^4(x)dx=\frac{tan^3(x)}{3}-tan(x)+x+C`</p>
            <br>
            <p>最后来看`sec`</p>
            <p>我们从`\int sec(x)dx`开始</p>
            <p>这里有个巧妙的求法：`\int sec(x)dx=\int sec(x)*\frac{sec(x)+tan(x)}{sec(x)+tan(x)}dx=\int \frac{sec^2(x)+sec(x)tan(x)}{sec(x)+tan(x)}dx=\ln|sec(x)+tan(x)|+C`</p>
            <p>另外根据常用积分公式，我们很容易得到`\int sec^2(x)=tan(x)+C`</p>
            <p>现在我们来计算`\int sec^3(x)dx`</p>
            <p>`\int sec^3(x)dx=\int sec(x)sec^2(x)dx`</p>
            <p>这里我们可以用分部积分法：</p>
            <p>设`u=sec(x)`和`dv=sec^2(x)dx`</p>
            <table width="50%" style="text-align:center">
                <tr>
                    <td>`u=sec(x)`</td>
                    <td>`v=tan(x)`</td>
                </tr>
                <tr>
                    <td>`du=sec(x)tan(x)dx`</td>
                    <td>`dv=sec^2(x)dx`</td>
                </tr>
            </table>
            <p>这样就有`\int sec^3(x)dx=sec(x)tan(x)-\int sec(x)tan^2(x)dx=sec(x)tan(x)-\int sec(x)(sec^2(x)-1)dx`</p>
            <p>`\int sec^3(x)dx=sec(x)tan(x)+\int sec(x)dx-\int sec^3(x)dx=sec(x)tan(x)+\ln|sec(x)+tan(x)|+C_1-\int sec^3(x)dx`</p>
            <p>`\Rightarrow 2\int sec^3(x)dx=sec(x)tan(x)+\ln|sec(x)+tan(x)|+C_1`</p>
            <p>`\Rightarrow \int sec^3(x)dx=\frac{1}{2}sec(x)tan(x)+\frac{1}{2}\ln|sec(x)+tan(x)|+C`</p>
            <p style="font-weight:bold">7.三角换元法</p>
            <p>（结合图3-12和图3-13看，`a`是正实数）</p>
            <p>①.积分里有`\sqrt{a^2-x^2}`大都可以这样做：</p>
            <p>我们设`x=a sin(\theta)`，那么可以得到`dx=a cos(\theta)d\theta`和`\theta=arcsin(\frac{x}{a})(\theta \in [-\frac{\pi}{2},\frac{\pi}{2}]\Rightarrow cos(\theta)\geq 0)`</p>
            <p>这样就有`a^2-x^2=a^2 cos^2(\theta)\Rightarrow \sqrt{a^2-x^2}=a cos(\theta)`</p>
            <p>e.g. 计算一个不定积分`\int \frac{x^2}{(9-x^2)^{\frac{3}{2}}}dx`</p>
            <p>这里我们可以设`x=3sin(\theta)`，那么就有`dx=3cos(\theta)d\theta`和`\theta=arcsin(\frac{x}{3})(\theta \in [-\frac{\pi}{2},\frac{\pi}{2}])`</p>
            <p>`\int \frac{x^2}{(9-x^2)^{\frac{3}{2}}}dx=\int \frac{9sin^2(\theta)}{(9cos^2(\theta))^{\frac{3}{2}}}3cos(\theta)d\theta=\int \frac{9sin^2(\theta)}{27cos^3(\theta)}3cos(\theta)d\theta=\int tan^2(\theta)d\theta=tan(\theta)-\theta+C`</p>
            <p>这里`\theta`我们知道是`arcsin(\frac{x}{3})`，`tan(\theta)`我们可以根据图3-12的三角形求出：`tan(\theta)=\frac{x}{\sqrt{9-x^2}}`</p>
            <p>`\Rightarrow \int \frac{x^2}{(9-x^2)^{\frac{3}{2}}}dx=\frac{x}{\sqrt{9-x^2}}-arcsin(\frac{x}{3})+C`</p>
            <br>
            <p>②.积分里有`\sqrt{x^2+a^2}`大都可以这样做：</p>
            <p>我们设`x=a tan(\theta)`，那么可以得到`dx=a sec^2(\theta)d\theta`和`\theta=arctan(\frac{x}{a})(\theta \in (-\frac{\pi}{2},\frac{\pi}{2})\Rightarrow sec(\theta)> 0)`</p>
            <p>这样就有`x^2+a^2=a^2 sec^2(\theta)\Rightarrow \sqrt{x^2+a^2}=a sec(\theta)`</p>
            <p>e.g. 计算一个不定积分`\int \frac{1}{(x^2+16)^{\frac{3}{2}}}dx`</p>
            <p>我们可以设`x=4tan(\theta)`，那么就有`dx=4sec^2(\theta)d\theta`和`\theta=arctan(\frac{x}{4})(\theta \in (-\frac{\pi}{2},\frac{\pi}{2}))`</p>
            <p>`\int \frac{1}{(x^2+16)^{\frac{3}{2}}}dx=\int \frac{1}{(16sec^2(\theta))^{\frac{3}{2}}}4sec^2(\theta)d\theta=\frac{1}{16}\int cos(\theta)d\theta=\frac{1}{16}sin(\theta)+C=\frac{x}{16\sqrt{x^2+16}}+C`</p>
            <br>
            <p>③.积分里有`\sqrt{x^2-a^2}`大都可以这样做：</p>
            <p>我们设`x=sec(\theta)`，那么可以得到`dx=sec(\theta)tan(\theta)d\theta`和`\theta=arcsec(\frac{x}{a})(\theta \in [0,\frac{\pi}{2})\cup (\frac{\pi}{2},\pi]\Rightarrow`当`\theta \in [0,\frac{\pi}{2})`时，`tan(\theta)\geq 0`；当`\theta \in (\frac{\pi}{2},\pi]`时，`tan(\theta)\leq 0)`</p>
            <p>这样就有`x^2-a^2=a^2 tan^2(\theta)\Rightarrow`当`\theta \in [0,\frac{\pi}{2})`，即`x>a`时，`\sqrt{x^2-a^2}=a tan(\theta)`；当`\theta \in (\frac{\pi}{2},\pi]`，即`x<-a`时，`\sqrt{x^2-a^2}=-a tan(\theta)`</p>
            <p>e.g. 计算一个不定积分`\int \frac{1}{x^3 \sqrt{x^2-4}}dx`</p>
            <p>我们可以设`x=2sec(\theta)`，那么就有`dx=2sec(\theta)tan(\theta)d\theta`和`\theta=arcsec(\frac{x}{2})(\theta \in [0,\frac{\pi}{2})\cup (\frac{\pi}{2},\pi])`</p>
            <p>`\int \frac{1}{x^3 \sqrt{x^2-4}}dx=\int \frac{1}{8sec^3(\theta) \sqrt{4tan^2(\theta)}}2sec(\theta)tan(\theta)d\theta`</p>
            <p>分类讨论：</p>
            <p>⑴.当`x>2`时，`\int \frac{1}{x^3 \sqrt{x^2-4}}dx=\int \frac{1}{8sec^3(\theta) 2 tan(\theta)}2sec(\theta)tan(\theta)d\theta=\frac{1}{8}\int cos^2(\theta)d\theta`</p>
            <p>`=\frac{1}{8}\int \frac{1}{2}(1+cos(2\theta))d\theta=\frac{\theta}{16}+\frac{sin(2\theta)}{32}+C=\frac{arcsec(\frac{x}{2})}{16}+\frac{2*\frac{\sqrt{x^2-4}}{x}*\frac{2}{x}}{32}+C=\frac{arcsec(\frac{x}{2})}{16}+\frac{\sqrt{x^2-4}}{8x^2}+C`</p>
            <p>⑵.当`x<-2`时，`\int \frac{1}{x^3 \sqrt{x^2-4}}dx=\int \frac{1}{8sec^3(\theta) (-2 tan(\theta))}2sec(\theta)tan(\theta)d\theta=-\frac{1}{8}\int cos^2(\theta)d\theta`</p>
            <p>`=-\frac{1}{8}\int \frac{1}{2}(1+cos(2\theta))d\theta=-\frac{\theta}{16}-\frac{sin(2\theta)}{32}+C=-\frac{arcsec(\frac{x}{2})}{16}-\frac{2*(-\frac{\sqrt{x^2-4}}{x})*\frac{2}{x}}{32}+C=-\frac{arcsec(\frac{x}{2})}{16}+\frac{\sqrt{x^2-4}}{8x^2}+C`</p>
            <p>⑶.当`-2\leq x\leq 2`时，`\frac{1}{x^3 \sqrt{x^2-4}}`无意义</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/b54b25ee4db04bd6bf8017a226ef7b0d.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" width="100%">
            </div>
            <p style="text-align:center">图 3-12</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/2edaf45d690a42aea72f211d3242235a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" width="100%">
            </div>
            <p style="text-align:center">图 3-13</p>
            <h2>3.9 积分的平均值和积分中值定理</h2>
            <p>我们知道平均速度等于总位移除以总时间</p>
            <p>假设时间从`a`到`b`，在`t`时刻的速度为`v(t)`，那么在这段时间里总位移就为`\int_{a}^{b} v(t)dt`，总时间为`(b-a)`</p>
            <p>平均速度也就是`\frac{\int_{a}^{b} v(t)dt}{b-a}`</p>
            <p>类比平均速度，我们可以把函数`f(x)`在区间`[a,b]`上的平均值`\bar{f(x)}`（下图中用`f_{av}`代替）定义为`\frac{\int_{a}^{b} f(x)dx}{b-a}`</p>
            <p>比如`f(x)=x^2`在`[0,2]`的平均值是`\frac{\int_{0}^{2} x^2dx}{2-0}=\frac{1}{2}*\frac{8}{3}=\frac{4}{3}`</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/408b0d1346ae40b3b9b07a314b081dbf.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" width="80%">
            </div>
            <p style="text-align:center">图 3-14</p>
            <p>我们把`\bar{f(x)}=\frac{\int_{a}^{b} f(x)dx}{b-a}`两边同乘`(b-a)`，可以得到`\int_{a}^{b} f(x)dx=\bar{f(x)}*(b-a)`</p>
            <p>这就是下图说的内容：这两个图像阴影部分面积相等</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/fd3624bfd8134ef5ae64edd1530a09e4.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" width="100%">
            </div>
            <p style="text-align:center">图 3-15</p>
            <p>我们可以发现水平线`y=\bar{f(x)}`和函数`y=f(x)`总会有一个交点，我们将其横坐标记为`c`</p>
            <p>这样就有了积分中值定理：如果函数`f(x)`在`[a,b]`连续，那么在`(a,b)`内总有一点`c`，满足`f(c)=\frac{\int_{a}^{b} f(x)dx}{b-a}`</p>
            <div align="center">
                <img src="https://img-blog.csdnimg.cn/016473b293cf41f5b7215fe4442e6ae6.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWVyb2JhdGljcw==,size_19,color_FFFFFF,t_70,g_se,x_16#pic_center" width="80%">
            </div>
            <p style="text-align:center">图 3-16</p>
            <p></p>
            <h2>3.10 积分练习</h2>
            <object data="Definite Integral to Riemann Sum.pdf" type="application/pdf" width="100%" height="700px"></object>
            <br><br><br><br>
            <object data="Long Division, Comp Sq.pdf" type="application/pdf" width="100%" height="700px"></object>
            <br><br><br><br>
            <a href="https://zhuanlan.zhihu.com/p/33047747" target="_blank">72道积分题</a>
        </div>
    </div>
</body>
</html>